# Pfft_maker - macOSç‰ˆ

Pfft_makerã®macOSç”¨ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

1. [å‹•ä½œç’°å¢ƒ](#å‹•ä½œç’°å¢ƒ)
2. [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
3. [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
4. [ãƒ“ãƒ«ãƒ‰æ‰‹é †](#ãƒ“ãƒ«ãƒ‰æ‰‹é †)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

## å‹•ä½œç’°å¢ƒ

- **OS**: macOS 10.15 (Catalina) ä»¥é™
- **Python**: Python 3.9 ä»¥é™ï¼ˆæ¨å¥¨: Python 3.11ï¼‰
- **ä¾å­˜é–¢ä¿‚**: requirements.txt ã‚’å‚ç…§

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### æ–¹æ³•1: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ç›´æ¥å®Ÿè¡Œï¼ˆé–‹ç™ºç’°å¢ƒï¼‰

1. **Python3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   # Homebrewã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   brew install python@3.11
   ```

2. **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
   pip3 install -r requirements.txt
   ```

3. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•**
   ```bash
   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
   platform/mac/run.sh
   ```

   ã¾ãŸã¯

   ```bash
   python3 run.py
   ```

### æ–¹æ³•2: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆé…å¸ƒç‰ˆï¼‰

1. **ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¢ãƒ—ãƒªã®å–å¾—**
   - `dist/Pfft_maker.app` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¾ãŸã¯è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰

2. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   - `Pfft_maker.app` ã‚’ `/Applications` ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚³ãƒ”ãƒ¼

3. **åˆå›èµ·å‹•æ™‚ã®è¨­å®š**
   - ã‚¢ãƒ—ãƒªã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œé–‹ãã€ã‚’é¸æŠ
   - macOSã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆã¯ã€Œé–‹ãã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã¾ãŸã¯ã€Œã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã€â†’ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã€ã‹ã‚‰è¨±å¯

## ä½¿ç”¨æ–¹æ³•

### é–‹ç™ºç’°å¢ƒã§ã®å®Ÿè¡Œ

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
platform/mac/run.sh

# ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œ
python3 run.py
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ«ã®å®Ÿè¡Œ

1. Finderã‹ã‚‰ `Pfft_maker.app` ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯
2. ã¾ãŸã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰:
   ```bash
   open -a Pfft_maker
   ```

## ãƒ“ãƒ«ãƒ‰æ‰‹é †

é…å¸ƒç”¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ«ã‚’ä½œæˆã™ã‚‹å ´åˆï¼š

### 1. å‰ææ¡ä»¶ã®ç¢ºèª

```bash
# PyInstallerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip3 install pyinstaller
```

### 2. ãƒ“ãƒ«ãƒ‰ã®å®Ÿè¡Œ

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰å®Ÿè¡Œ
platform/mac/build_distribution.sh
```

ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã¨ã€`dist/Pfft_maker.app` ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

### 3. DMGãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

é…å¸ƒç”¨ã®DMGã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹å ´åˆï¼š

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰
hdiutil create -volname "Pfft_maker" -srcfolder dist -ov -format UDZO Pfft_maker.dmg
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Python3ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# Homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
brew install python@3.11

# PATHã®ç¢ºèª
which python3
```

### PyQt6ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼

```bash
# Xcodeã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
xcode-select --install

# å†åº¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip3 install PyQt6
```

### ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ãªã„ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼ï¼‰

1. **Gatekeeperè¨­å®šã®å¤‰æ›´**
   ```bash
   # è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã®å ´åˆ
   xattr -cr /Applications/Pfft_maker.app
   ```

2. **ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã‹ã‚‰è¨±å¯**
   - ã€Œã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã€â†’ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã€
   - ã€Œä¸€èˆ¬ã€ã‚¿ãƒ–ã§ã€Œã“ã®ã¾ã¾é–‹ãã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

```bash
# ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
rm -rf build dist __pycache__

# å†åº¦ãƒ“ãƒ«ãƒ‰ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰ï¼‰
platform/mac/build_distribution.sh
```

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
Pfft_maker/                    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ src/                       # å…±é€šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ data/                      # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ prompts_library.csv   # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â””â”€â”€ lora_library.csv      # LoRAãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ resources/                 # å…±é€šãƒªã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ requirements.txt           # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ run.py                     # å…±é€šãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ platform/
    â””â”€â”€ mac/                   # macOSå›ºæœ‰ãƒ•ã‚¡ã‚¤ãƒ«
        â”œâ”€â”€ run.sh             # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆé–‹ç™ºç”¨ï¼‰
        â”œâ”€â”€ build_distribution.sh    # ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
        â”œâ”€â”€ Pfft_maker_mac.spec     # PyInstallerè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
        â”œâ”€â”€ README_JP.md       # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
        â””â”€â”€ SETUP.txt          # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
```

## æ³¨æ„äº‹é …

### å€‹äººæƒ…å ±ã®é™¤å¤–

ã“ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã§ã¯ã€ä»¥ä¸‹ã®å€‹äººæƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«ã¯è‡ªå‹•çš„ã«é™¤å¤–ã•ã‚Œã¾ã™ï¼š

- `data/settings.json` - å€‹äººã®è¨­å®š
- `data/project_library.json` - å€‹äººã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- `data/scene_library.json` - å€‹äººã®ã‚·ãƒ¼ãƒ³
- `data/custom_prompts.json` - ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- `data/templates.json` - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- `data/.api_keys.enc` - æš—å·åŒ–ã•ã‚ŒãŸAPIã‚­ãƒ¼
- `data/.master_key` - ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ¼

é…å¸ƒç‰ˆã«ã¯ `settings.default.json` ã¨ `prompts_library.csv` ã®ã¿ãŒå«ã¾ã‚Œã¾ã™ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨ã‚µãƒãƒ¼ãƒˆ

è©³ç´°ã¯å…ƒã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `../docs/`
- ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: `../docs/TUTORIAL.md`
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰: `../docs/USER_GUIDE.md`

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

é–‹ç™ºæ™‚ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã‚’ç¢ºèªã™ã‚‹å ´åˆï¼š

```bash
# .specãƒ•ã‚¡ã‚¤ãƒ«ã®consoleè¨­å®šã‚’å¤‰æ›´
# console=False -> console=True
```

### ã‚³ãƒ¼ãƒ‰ç½²åï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç½²åã™ã‚‹å ´åˆï¼š

```bash
# Apple Developerè¨¼æ˜æ›¸ãŒå¿…è¦
codesign --deep --force --verify --verbose --sign "Developer ID Application: Your Name" dist/Pfft_maker.app
```

---

**ä½œæˆæ—¥**: 2025-10-15
**å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: Pfft_maker v1.x
